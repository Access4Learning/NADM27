<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>SIF Implementation Specification 2.7M - Infrastructure Working Group</title>
    <link rel="stylesheet" type="text/css" href="include/document.css" />
    <link rel="stylesheet" type="text/css" href="include/specification.css" />
  </head>
  <body>
    <div class="navigation" id="topnavigation">
      <a href="index.html">home</a>
      <a href="index.html#contents">table of contents</a>
      <hr />
    </div>
    <h2>3.12 Infrastructure Working Group</h2>
    <p>
        In addition to SIF messages and strictly infrastructure-related objects like <code>SIF_ZoneStatus</code>, the Infrastructure
        Working Group occasionally defines data model objects that either do not fall neatly within the purview of currently
        existing data model working groups (e.g. the Authentication object) or that can be provided by the ZIS and agents
        alike—typically metadata about a zone as opposed to data directly originating from the K-12 instructional and
        administrative environment (e.g. <code>SIF_LogEntry</code>).
      </p>
    <div class="element_section">
      <a name="obj:Authentication" />
      <a name="3121Authentication" />
      <h3 class="element_name">3.12.1 Authentication</h3>
      <p>
          The Authentication object allows a system that stores usernames and/or passwords to share them with other applications through SIF.
          The provider of the Authentication object may only support providing a username or a password, or it may support both.
        </p>
      <p>
          The Authentication object is also able to transmit a user's network identity through SIF.
          If the user has an account in a network directory system that supports LDAP, the user's distinguishedName or username is shared
          to uniquely identify the user to applications that support LDAP or native network authentication options.
        </p>
      <p>Details of how to implement the password element are included below the object definition.</p>
      <p class="emphasized_note">SIF_Events are reported for this object.</p>
      <a name="Figure31211Authentication" />
      <div class="diagram_parent" align="center">
        <a target="_blank" href="diagrams/Authentication.png">
          <img class="diagram" src="diagrams/Authentication.png" alt="Authentication" width="1259" height="464" usemap="#Authentication__map" />
        </a>
      </div>
      <span class="caption">Figure 3.12.1-1: Authentication</span><map name="Authentication__map" id="Authentication__map">
  <area alt="Authentication" href="#Authentication" shape="rect" coords="5,254,153,296" />
  <area alt="RefId" href="#Authentication___RefId" shape="rect" coords="228,15,303,57" />
  <area alt="SIF_RefId" href="#Authentication___SIF_RefId" shape="rect" coords="318,15,428,57" />
  <area alt="SIF_RefObject" href="#Authentication___SIF_RefObject" shape="rect" coords="443,15,589,57" />
  <area alt="AuthenticationInfo" href="#Authentication__AuthenticationInfo" shape="rect" coords="228,197,406,239" />
  <area alt="System" href="#Authentication__AuthenticationInfo__System" shape="rect" coords="518,102,633,144" />
  <area alt="Type" href="#Authentication__AuthenticationInfo__System___Type" shape="rect" coords="780,102,852,144" />
  <area alt="Username" href="#Authentication__AuthenticationInfo__Username" shape="rect" coords="518,169,633,211" />
  <area alt="DistinguishedName" href="#Authentication__AuthenticationInfo__DistinguishedName" shape="rect" coords="518,226,705,268" />
  <area alt="PasswordList" href="#Authentication__AuthenticationInfo__PasswordList" shape="rect" coords="518,293,658,335" />
  <area alt="Password" href="#Authentication__AuthenticationInfo__PasswordList__Password" shape="rect" coords="780,293,891,335" />
  <area alt="Algorithm" href="#Authentication__AuthenticationInfo__PasswordList__Password___Algorithm" shape="rect" coords="966,293,1078,335" />
  <area alt="KeyName" href="#Authentication__AuthenticationInfo__PasswordList__Password___KeyName" shape="rect" coords="1093,293,1208,335" />
  <area alt="SIF_Metadata" href="#Authentication__SIF_Metadata" shape="rect" coords="228,360,367,402" />
  <area alt="SIF_ExtendedElements" href="#Authentication__SIF_ExtendedElements" shape="rect" coords="228,417,443,459" />
</map><a name="Table31211Authentication" /><table class="definition"><thead><tr><th> </th><th>Element/@Attribute</th><th>Char</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td class="indicators"> </td><td class="element"><a name="Authentication" /><span class="rootElement">Authentication</span></td><td class="emptycell">&#xA0;</td><td class="description"><p>
            The Authentication object allows a system that stores usernames and/or passwords to share them with other applications through SIF.
            The provider of the Authentication object may only support providing a username or a password, or it may support both.
          </p><p>
            The Authentication object is also able to transmit a user's network identity through SIF.
            If the user has an account in a network directory system that supports LDAP, the user's distinguishedName or username is shared
            to uniquely identify the user to applications that support LDAP or native network authentication options.
          </p>&#xA0;</td><td class="emptycell">&#xA0;</td></tr><tr><td class="indicators">@<br /><img class="key" src="images/key.png" alt="key" /></td><td class="attribute"><a name="Authentication___RefId" />RefId</td><td class="characteristics">M</td><td class="description"><p>The SIF RefId that uniquely identifies this authentication object.</p>&#xA0;</td><td class="type"><a href="CommonTypes.html#RefIdType" class="type">RefIdType</a></td></tr><tr><td class="indicators">@</td><td class="attribute"><a name="Authentication___SIF_RefId" />SIF_RefId</td><td class="characteristics">M</td><td class="description"><p>The SIF RefId of a student or staff member</p>&#xA0;</td><td class="type"><a href="CommonTypes.html#IdRefType" class="type">IdRefType</a></td></tr><tr><td class="indicators">@</td><td class="attribute"><a name="Authentication___SIF_RefObject" />SIF_RefObject</td><td class="characteristics">M</td><td class="description"><p>The type of SIF object that the SIF_RefId attribute identifies.</p>&#xA0;</td><td class="type"><span class="title">values:</span><br /><dl><dt>StudentPersonal</dt><dt>StaffPersonal</dt><dt>StudentContact</dt><dt>EmployeePersonal</dt></dl></td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__AuthenticationInfo" />AuthenticationInfo</td><td class="characteristics">M</td><td class="description"><p>The authentication information for one system.</p>&#xA0;</td><td class="emptycell">&#xA0;</td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__AuthenticationInfo__System" />AuthenticationInfo/System<br/>&#160;&#160;&#160;&#160;&#160;</td><td class="characteristics">M</td><td class="description"><p>An identifying string for the system that supports this authentication information.</p>&#xA0;</td><td class="type"><a href="http://www.w3.org/TR/xmlschema-2/#normalizedString" class="type">xs:normalizedString</a><br /><table><tr><td><a href="http://www.w3.org/TR/xmlschema-2/#rf-length">xs:maxLength</a></td><td>255</td></tr></table></td></tr><tr><td class="indicators">@</td><td class="attribute"><a name="Authentication__AuthenticationInfo__System___Type" />Type</td><td class="characteristics">M</td><td class="description"><p>Specific type of user identification.</p>&#xA0;</td><td class="type"><span class="title">values:</span><br /><dl><dt>Network</dt><dt>Application</dt></dl></td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__AuthenticationInfo__Username" />AuthenticationInfo/Username<br/>&#160;&#160;&#160;&#160;&#160;</td><td class="characteristics">O</td><td class="description"><p>The identification string for this user.</p>&#xA0;</td><td class="type"><a href="http://www.w3.org/TR/xmlschema-2/#normalizedString" class="type">xs:normalizedString</a><br /><table><tr><td><a href="http://www.w3.org/TR/xmlschema-2/#rf-length">xs:maxLength</a></td><td>64</td></tr></table></td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__AuthenticationInfo__DistinguishedName" />AuthenticationInfo/DistinguishedName<br/>&#160;&#160;&#160;&#160;&#160;</td><td class="characteristics">O</td><td class="description"><p>This is the distinguished name of the user in a network directory system.</p>&#xA0;</td><td class="type"><a href="http://www.w3.org/TR/xmlschema-2/#normalizedString" class="type">xs:normalizedString</a><br /><table><tr><td><a href="http://www.w3.org/TR/xmlschema-2/#rf-length">xs:maxLength</a></td><td>255</td></tr></table></td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__AuthenticationInfo__PasswordList" />AuthenticationInfo/PasswordList<br/>&#160;&#160;&#160;&#160;&#160;</td><td class="characteristics">O</td><td class="description"><p>Allows a provider or publisher to specify the same password using multiple algorithms, if supported.</p>&#xA0;</td><td class="type"><a class="type" href="DataModel.html#List">List</a></td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__AuthenticationInfo__PasswordList__Password" />AuthenticationInfo/PasswordList/<br/>&#160;&#160;&#160;&#160;&#160;Password</td><td class="characteristics">MR</td><td class="description"><p>A representation of the user's password using the given algorithm.</p>&#xA0;</td><td class="type"><a href="http://www.w3.org/TR/xmlschema-2/#base64Binary" class="type">xs:base64Binary</a><br /><table><tr><td><a href="http://www.w3.org/TR/xmlschema-2/#rf-length">xs:maxLength</a></td><td>255</td></tr></table></td></tr><tr><td class="indicators">@</td><td class="attribute"><a name="Authentication__AuthenticationInfo__PasswordList__Password___Algorithm" />Algorithm</td><td class="characteristics">M</td><td class="description"><p>The method used to encrypt the user's password. See the implementation details below.</p>&#xA0;</td><td class="type"><span class="title">values:</span><br /><dl><dt>base64</dt><dt>MD5</dt><dt>SHA1</dt><dt>DES</dt><dt>TripleDES</dt><dt>RC2</dt><dt>AES</dt><dt>RSA</dt></dl></td></tr><tr><td class="indicators">@</td><td class="attribute"><a name="Authentication__AuthenticationInfo__PasswordList__Password___KeyName" />KeyName</td><td class="characteristics">M</td><td class="description"><p>The name of the key to be used for decryption of the password.  Left blank for plain, encoded text (Algorithm attribute value of "base64") and hash algorithms.</p>&#xA0;</td><td class="type"><a href="http://www.w3.org/TR/xmlschema-2/#normalizedString" class="type">xs:normalizedString</a><br /><table><tr><td><a href="http://www.w3.org/TR/xmlschema-2/#rf-length">xs:maxLength</a></td><td>64</td></tr></table></td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__SIF_Metadata" />SIF_Metadata</td><td class="characteristics">O</td><td class="description">&#xA0;</td><td class="type"><a href="DataModel.html#SIF_Metadata" class="type">SIF_Metadata</a></td></tr><tr><td class="indicators"> </td><td class="element"><a name="Authentication__SIF_ExtendedElements" />SIF_ExtendedElements</td><td class="characteristics">O</td><td class="description">&#xA0;</td><td class="type"><a href="DataModel.html#SIF_ExtendedElements" class="type">SIF_ExtendedElements</a></td></tr></tbody></table><span class="caption">Table 3.12.1-1: Authentication</span><a name="PasswordImplementationDetails" /><h4>3.12.1.1 Password Implementation Details</h4><p>
          While Authentication objects transported over SIF HTTPS are typically secure in transit, SIF objects are often stored in logs and databases.
          If the network infrastructure is not secure, the passwords could be subject to snooping from system users.
          Because of this, the design of the Authentication object requires that passwords never be transmitted in plain text, to prevent casual viewing.
          The design of this object allows passwords to be securely encrypted using a variety of encryption algorithms.
        </p><p>
          Passwords in the Authentication object can be shared in one of three ways as documented in the sections below.
        </p><a name="EncodedText" /><h5>3.12.1.1.1 Encoded Text</h5><p>
            Sharing a password using encoded text is a very insecure method, because it uses a well-known algorithm and the value is not encrypted.
            The only merit of using this method is that the password is not readable as plain text, and thus deters any casual attempt to read a password.
            To share passwords in this manner, the following steps must be followed:
          </p><ol><li>
              The publishing agent creates a <code>Password</code> element with the algorithm set to <code>base64</code>.
            </li><li>The agent encodes the Unicode representation of the password using the UTF-8 encoding.</li><li>The resulting binary value is then base64 encoded.</li><li>
              Write the result as the payload of the <code>Password</code> element.
            </li></ol><a name="HashedText" /><h5>3.12.1.1.2 Hashed Text</h5><p>
            Sharing a hashed text version of a password means that the original password is not shared.
            Clear text passwords are not retrievable from values stored as hashes.
            These hashed values can only be used to verify passwords input by a user.
          </p><p>
            What is shared is a cryptographically secure hash of the password.
            This hash allows other applications to verify a user's password when s/he logs in by comparing the hash value, not the original password.
            To share passwords in this manner, the following steps must be followed:
          </p><ol><li>
              The publishing agent creates a <code>Password</code> element with the algorithm set to <code>MD5</code> or <code>SHA1</code>.
            </li><li>The agent encodes the Unicode representation of the password using the UTF-8 encoding.</li><li>Hash the resulting binary value with the chosen hash algorithm.</li><li>Encode the binary result using base64 encoding.</li><li>
              Write the result as the payload of the <code>Password</code> element.
            </li></ol><a name="EncryptedText" /><h5>3.12.1.1.3 Encrypted Text</h5><p>
            Sharing a password using encrypted text can be very secure.
            The key being used to encrypt the data should be known only to the applications.
            The <code>KeyName</code> attribute is used to allow agents to uniquely identify keys that are being used.
            To share passwords in this manner, the following steps must be followed:
          </p><ol><li>
              The publishing agent creates a <code>Password</code> element with the algorithm set to <code>DES</code>, <code>TripleDES</code>, <code>RC2</code>,  or <code>AES</code>.
            </li><li>The agent encodes the Unicode representation of the password using the UTF-8 encoding.</li><li>Generate a cryptographically secure Initialization Vector (IV).</li><li>Configure the encryption algorithm to use a cipher mode of CBC.</li><li>Configure the encryption algorithm to use a block size of 64 bits (8 bytes).</li><li>Configure the encryption algorithm to use the generated IV.</li><li>Configure the encryption algorithm to use the specified key for encryption.</li><li>Configure the encryption algorithm to use PKCS#7/PKCS#5 padding mode.</li><li>Encrypt the binary representation of the password that was generated in step 2.</li><li>Encode the binary result using base64 encoding.</li><li>
              Write the result as the payload of the <code>Password</code> element.
            </li></ol><a name="ExampleKeys" /><h6>3.12.1.1.3.1 Example Keys</h6><p>
              The XML in the Authentication example can be used to verify an agent's implementation of any of the published algorithms.
              The password being shared for the sake of the example is <code>¿sècrèt</code>.
              High-Unicode characters are being used in this example to validate proper encoding.
              The actual Unicode characters are: U+00BF, U+0073, U+00E8, U+0063, U+0072, U+00E8, U+0074.
            </p><p>The encryption keys being used are as follows (in base 64 format)</p><table><thead><tr><td>Key Name</td><td>Key (in base64 format)</td></tr></thead><tr><td>64-BIT_KEY</td><td>dW7SKzwdn0Q=</td></tr><tr><td>128-BIT_KEY</td><td>TcdilmUZ6qvbmegl2it2pA==</td></tr><tr><td>192-BIT_KEY</td><td>mECbXMo+fOMWRwam7tyUEE59jbO9O0Z4</td></tr></table><p>
              NOTE: Real-world implementations of password sharing should use keys other than the ones used for this documentation.
              These keys are provided for example's sake only.
              Keys should be generated using a secure cryptographic key generator.
            </p><a name="Example31211Authentication" />
<div class="example_parent"><div class="example"
>&lt;Authentication RefId="4286194F43ED43C18EE2F0A27C4BEF86" SIF_RefId="23B08571E4D645C3B82A3E52E5349925" SIF_RefObject="StudentPersonal"&gt;
  &lt;AuthenticationInfo&gt;
    &lt;System Type="Network"&gt;NetworkSystem&lt;/System&gt;
    &lt;Username&gt;User01&lt;/Username&gt;
    &lt;DistinguishedName&gt;cn=User01, cn=Users, dc=sifinfo, dc=org&lt;/DistinguishedName&gt;
    &lt;PasswordList&gt;
      &lt;Password Algorithm="SHA1" KeyName="SHA1"&gt;1zKHIKRoPb3y0gZLJnFhQspdevg=&lt;/Password&gt;
      &lt;Password Algorithm="MD5" KeyName="MD5"&gt;IwErjiNuanYLAmyFwyulPg==&lt;/Password&gt;
      &lt;Password Algorithm="base64" KeyName="BASE64"&gt;wr9zw6hjcsOodA==&lt;/Password&gt;
      &lt;Password Algorithm="DES" KeyName="64-BIT_KEY"&gt;6XSjrzAgkrd41Nzb61w5vwuqzKsQbybL&lt;/Password&gt;
      &lt;Password Algorithm="RC2" KeyName="128-BIT_KEY"&gt;jqCzWFS38Xs7tx7v2ksa01TrFhBnixI8&lt;/Password&gt;
      &lt;Password Algorithm="TripleDES" KeyName="192-BIT_KEY"&gt;msf17ucBbhN44uJpXTGGfI3twSR/cS/u&lt;/Password&gt;
    &lt;/PasswordList&gt;
  &lt;/AuthenticationInfo&gt;
&lt;/Authentication&gt;
</div></div><span class="caption">Example 3.12.1-1: Authentication</span></div>
    <a name="InstructionalServicesTaskForce" />
    <div class="navigation" id="bottomnavigation">
      <hr />
      <a href="index.html">home</a>
      <a href="IdentityManagementProjectTeam.html">previous</a>
      <a href="InstructionalServicesTaskForce.html">next</a>
      <a href="index.html#contents">table of contents</a>
    </div><p align='center'><a href='http://validator.w3.org/check?uri=referer'><img src='http://www.w3.org/Icons/valid-xhtml10' alt='Valid XHTML 1.0 Transitional'/></a></p></body>
</html>